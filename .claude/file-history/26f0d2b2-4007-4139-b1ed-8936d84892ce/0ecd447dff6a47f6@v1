/**
 * Slack Integration Initialization
 *
 * Single entry point for setting up all Slack-related listeners and subscribers.
 * Call once at application startup (e.g., in API route handler).
 */

import type { App } from '@slack/bolt';
import { setupLinearMessageListener } from './listener.js';
import { setupSlackSubscribers } from './subscriber.js';

/**
 * Initialize all Slack integration components.
 * Sets up message listeners and event bus subscribers.
 *
 * @param app - Bolt App instance
 */
export function initializeSlackIntegration(app: App): void {
  // Set up listener for Linear bot messages
  setupLinearMessageListener(app);

  // Set up event bus subscribers for ticket events
  setupSlackSubscribers();

  console.log('[slack-init] Slack integration initialized');
}
