---
phase: 07-integration-pr
plan: 01
type: execute
---

<objective>
Final validation, documentation update, and PR creation for the unified TrenchBench branch.

Purpose: Complete the branch unification project with a well-documented PR ready for review.
Output: PR created with comprehensive description, updated PROJECT.md, and feature parity documentation.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./07-01-summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-store-migration/06-01-SUMMARY.md

**Accumulated decisions from prior phases:**

- [01-01] Resolve all conflicts in single commit (git doesn't allow partial merge commits)
- [01-01] Keep trenchBenchStore from preload-data as primary data source
- [01-01] Token amount tracking for position exit detection (not SOL amounts)
- [01-02] TypeScript verification sufficient for merge (Tolgee i18n is external service)
- [02-01] Badge holdingPercent uses SOL amounts (functional; token amounts enhancement for future)
- [03-01] useShallow for Anomalyzer store subscription to prevent unnecessary re-renders
- [03-01] Fixed ESLint unused vars in Vantage (underscore prefix) during Task 2
- [04-01] Lamports detection pattern: rawSol >= 1M && no decimal â†’ lamports (divide by 1e9)
- [04-01] Position removal uses holdingsMatrix token balance (not SOL amounts) for accuracy
- [04-02] holdingPercent uses token amounts (currentTokens/entryTokens), not SOL values (price-independent)
- [06-01] Remove all cross-widget CustomEvent code; store subscriptions (Phase 3) are sole sync mechanism

**Key accomplishments to document:**

- Branch merged: 37 UI commits from dash-pauls into preload-data architecture
- Store-only sync: CustomEvents removed, Zustand store handles cross-widget selection
- Data accuracy: Lamports/SOL detection, token-based position tracking
- All 4 TrenchBench widgets conflict-resolved and working
  </context>

<tasks>

<task type="auto">
  <name>Task 1: Final build verification</name>
  <files>apps/web-terminal/</files>
  <action>Run TypeScript typecheck specifically on web-terminal app to verify no regressions. Note: @bonkbot/pvp package has pre-existing React 19 ref type errors unrelated to this work - verify web-terminal specifically passes.</action>
  <verify>cd apps/web-terminal && npx tsc --noEmit exits 0</verify>
  <done>web-terminal app has no TypeScript errors</done>
</task>

<task type="auto">
  <name>Task 2: Update PROJECT.md with final status</name>
  <files>.planning/PROJECT.md</files>
  <action>Update PROJECT.md: (1) Mark all Active requirements as complete with checkboxes [x], (2) Update Key Decisions table to show "Done" status for all decisions, (3) Add final summary noting 170 commits ahead of develop-ui.</action>
  <verify>cat .planning/PROJECT.md | grep -E '\[x\]|Done' shows updated items</verify>
  <done>PROJECT.md reflects completed state with all requirements checked and decisions marked Done</done>
</task>

<task type="checkpoint:decision" gate="blocking">
  <decision>Ready to create PR?</decision>
  <context>Tasks 1-2 complete. PR will merge feat/trenchbench-unified (170 commits) into develop-ui.

**Proposed PR:**

- Title: feat(trenchbench): unify dash-pauls UI features with preload-data architecture
- Target: develop-ui
- Content: Branch merge, store migration, CustomEvent removal across 6 phases</context>
  <options>
  <option id="create-pr">
  <name>Create PR now</name>
  <pros>Complete the project, get review started</pros>
  <cons>None - all work verified</cons>
  </option>
  <option id="defer-pr">
  <name>Defer PR creation</name>
  <pros>More time for manual testing or review</pros>
  <cons>Project remains incomplete</cons>
  </option>
  </options>
  <resume-signal>Select: create-pr or defer-pr (or provide custom instructions)</resume-signal>
  </task>

<task type="auto" depends-on="checkpoint-approved">
  <name>Task 4: Create PR with comprehensive description</name>
  <files>N/A (gh CLI)</files>
  <action>Create PR from feat/trenchbench-unified to develop-ui using gh CLI. Include:

**Title:** feat(trenchbench): unify dash-pauls UI features with preload-data architecture

**Body sections:**

1. Summary - What this PR does (branch merge, store migration, CustomEvent removal)
2. Changes by Phase - Brief list from each phase (1-6)
3. Key Technical Decisions - Major architectural choices
4. Testing Done - TypeScript verification, manual testing checklist
5. Breaking Changes - None expected
6. Screenshots - N/A (internal refactor)

Use heredoc for body formatting.</action>
<verify>gh pr view --web opens PR in browser, PR exists with proper description</verify>
<done>PR created and viewable at GitHub URL</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] web-terminal TypeScript check passes
- [ ] PROJECT.md updated with final status
- [ ] PR created with comprehensive description
- [ ] PR URL accessible
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- PR created and ready for review
- Branch unification project complete
  </success_criteria>

<output>
After completion, create `.planning/phases/07-integration-pr/07-01-SUMMARY.md`:

# Phase 7 Plan 01: Integration & PR Summary

**[Substantive one-liner]**

## Accomplishments

## Files Created/Modified

## PR Details

## Issues Encountered

## Project Completion

Phase 7 complete. Branch unification project finished.
</output>
