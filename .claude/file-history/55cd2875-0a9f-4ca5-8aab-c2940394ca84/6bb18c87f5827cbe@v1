/**
 * Trading Types
 *
 * Types for paper trading and LOIS integration.
 */

export interface PaperTrade {
  id: string;
  timestamp: number;
  mint: string;
  symbol: string;
  action: 'buy' | 'sell';
  entryPriceSol: number;
  entryPriceUsd: number;
  positionSizeSol: number;
  tokenAmount: number;
  ruleSetId: string;
  signalStrength: number;
  reason: string;
  // Filled when position is closed
  exitPriceSol?: number;
  exitPriceUsd?: number;
  exitTimestamp?: number;
  pnlSol?: number;
  pnlUsd?: number;
  pnlPercent?: number;
  status: 'open' | 'closed';
}

export interface TradingStats {
  totalTrades: number;
  openTrades: number;
  closedTrades: number;
  wins: number;
  losses: number;
  winRate: number;
  totalPnlSol: number;
  totalPnlUsd: number;
  avgPnlPercent: number;
  bestTrade: PaperTrade | null;
  worstTrade: PaperTrade | null;
}

export interface TriggerEvent {
  timestamp: number;
  mint: string;
  symbol: string;
  action: 'buy' | 'sell';
  ruleSetId: string;
  signals: Array<{
    ruleId: string;
    ruleName: string;
    reason: string;
    strength: number;
  }>;
  confidence: number;
  triggered: boolean;
  reason?: string; // Why it wasn't triggered (if not)
  tradeId?: string; // If a trade was created
}
