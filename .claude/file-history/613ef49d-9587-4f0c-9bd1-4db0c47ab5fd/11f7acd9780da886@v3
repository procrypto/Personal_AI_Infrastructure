// Types based on web-terminal API responses
// Note: API returns data wrapped in {ok: boolean, token: TokenMarketData}

export interface TokenMarketData {
  mint: string;
  symbol: string;
  name: string;
  price_sol: number;
  price_usd: number;
  market_cap_sol: number;
  market_cap_usd: number;
  holders: string; // Note: API returns as string

  // Volume metrics (buy + sell combined)
  buy_volume_sol_5m: number;
  sell_volume_sol_5m: number;
  buy_volume_sol_1h: number;
  sell_volume_sol_1h: number;
  buy_volume_sol_6h: number;
  sell_volume_sol_6h: number;
  buy_volume_sol_24h: number;
  sell_volume_sol_24h: number;
  volume_24h_sol: number;

  // Buy/sell counts
  buys_5m: number;
  buys_1h: number;
  buys_6h: number;
  buys_24h: number;
  sells_5m: number;
  sells_1h: number;
  sells_6h: number;
  sells_24h: number;

  // Trader counts
  buyers_5m: number;
  buyers_1h: number;
  buyers_6h: number;
  buyers_24h: number;
  sellers_5m: number;
  sellers_1h: number;
  sellers_6h: number;
  sellers_24h: number;
  traders_5m: number;
  traders_1h: number;
  traders_6h: number;
  traders_24h: number;

  // Price history for % change calculations
  earliest_price_sol_5m: number;
  earliest_price_sol_1h: number;
  earliest_price_sol_6h: number;
  earliest_price_sol_24h: number;

  // Additional useful fields
  liquidity_sol: number;
  liquidity_usd: number;
  total_supply: number;
  circulating_supply: number;
}

export interface OHLCV {
  timestamp: number;
  open: number;
  high: number;
  low: number;
  close: number;
  volume: number;
}

export type Resolution = '1s' | '5s' | '15s' | '30s' | '1m' | '5m' | '15m' | '30m' | '1h' | '4h' | '6h' | '12h' | '1d' | '1w';

export interface Trade {
  mint: string;
  direction: 'buy' | 'sell';
  maker: string;
  sol_amount: number;
  token_amount: number;
  sol_amount_usd: number;
  market_cap_sol: number;
  market_cap_usd: number;
  timestamp: number;
  signature: string;
  is_dev: boolean;
  is_insider: boolean;
  is_sniper: boolean;
  is_bundler: boolean;
  platform: string;
}

export interface TrendingToken {
  mint: string;
  symbol: string;
  name: string;
  price_usd: number;
  market_cap_usd: number;
  volume_24h_usd: number;
  price_change_24h: number;
}

// Discovery endpoint response types
export interface DiscoveryTrendingItem {
  mint: string;
  trending_data: {
    mint: string;
    rank_5m?: number;
    rank_1h?: number;
    rank_6h?: number;
    rank_24h?: number;
    volume_usd_5m?: number;
    volume_usd_1h?: number;
    volume_usd_6h?: number;
    volume_usd_24h?: number;
  };
  market_data: TokenMarketData | null;
}

export interface WhaleMovesItem {
  mint: string;
  token_symbol: string;
  token_name: string;
  image?: string;
  whales_15m: string;
  whales_1h: string;
  whales_6h: string;
  whales_24h: string;
  trades_15m: string;
  trades_1h: string;
  trades_6h: string;
  trades_24h: string;
  current_market_cap_usd: number;
  volume_usd_15m: number;
  volume_usd_1h: number;
  volume_usd_6h: number;
  volume_usd_24h: number;
}

export interface WhaleMovesResponse {
  ok: boolean;
  data: WhaleMovesItem[];
}
