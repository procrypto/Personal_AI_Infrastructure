# Phase 3: Topic Mode Foundations - Context

**Gathered:** 2026-01-09
**Status:** Ready for research

<vision>
## How This Should Work

Topic Mode is a hybrid discovery tool for analyzing previously exported chat ZIPs. Users can either:

1. **Browse guided themes** - Pick from preset categories (product feedback, business intel) to see matching conversation snippets
2. **Search ad-hoc** - Enter keywords or questions to find relevant excerpts

The key is **context preservation**. When a match is found, show:
- The matching message(s)
- Other nearby messages from the same author (if the author triggered the match)
- Fall back to time-based context if no strong author-based matches

This gives enough surrounding conversation to understand *why* something was said, not just *what* was said.

</vision>

<essential>
## What Must Be Nailed

- **Context preservation** - Snippets must include enough surrounding conversation to understand the full picture. Prefer author-based context clustering, fall back to time-based.
- **Hybrid workflow** - Both guided themes AND ad-hoc search, working together seamlessly.

</essential>

<boundaries>
## What's Out of Scope

- Anonymization layer - that's Phase 4
- User-adjustable context windows - future enhancement
- Raw Telegram JSON input - only accepts ZIPs from Group/User mode
- LLM summarization - just extraction and search for now

</boundaries>

<specifics>
## Specific Ideas

**Themes to support:**
- Product feedback (features requested, bugs reported, frustrations, praise)
- Business intel (partnerships mentioned, competitor discussions, market trends)

**Context algorithm:**
- Primary: Show other messages from the triggering author near the match
- Fallback: Time-based window if no strong author clustering

**Input:**
- Only exported ZIPs (the output from existing Group/User mode workflows)

</specifics>

<notes>
## Additional Context

This phase focuses on the extraction and presentation layer. The heavy LLM work (summarization, local models, MCP integration) is deferred to Phase 4.

Privacy remains paramount - everything runs locally in the browser.

</notes>

---

*Phase: 03-topic-mode-foundations*
*Context gathered: 2026-01-09*
