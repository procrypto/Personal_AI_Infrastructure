# ceremony - Synthesized Context

## Discovery Summary
- **First discovered**: 2026-01-10
- **Last updated**: 2026-01-10
- **Discovery depth**: Standard
- **Documentation quality**: Excellent (8 detailed guides in docs/)

---

## System Identity

**What it is**: Internal deployment orchestration tool.

**What it does**:
- Coordinates weekly multi-team production releases
- Tracks deployment steps with status and timing
- Manages cross-workstream dependencies
- Imports release scope from Linear
- Maintains complete ceremony history

**Key insight**: Critical operational tool - used every week to coordinate deployments across Frontend, TG Bot, Web API, PUM3, and Data/Infra teams.

---

## Architecture Highlights

### Stack
- React 18 (CDN) + Tailwind CSS + Babel (in-browser)
- Vercel Serverless Functions (Node.js)
- Vercel KV (Redis) + Vercel Blob (archives)
- Linear SDK integration

### Key Components
```
index.html          # Single-file React app (3,977 lines)
authConfig.js       # User/role definitions (25+ users)
api/                # 5 serverless endpoints
lib/                # KV, Blob, Linear, user mapping utilities
docs/               # 8 comprehensive guides
```

### Workstreams (5)
1. **Frontend** - Vercel deployment
2. **TG Bot** - Migration, Furiosa, Alt Bots, Bot Node
3. **Web API** - REST/WebSocket API
4. **PUM3** - Price Update Machine
5. **Data/Infra** - Multi-region (Asia, US, EU)

---

## Key Features

- **Real-time Coordination**: Live timer, progress tracking
- **Step Dependencies**: Steps can block on other steps/workstreams
- **Linear Integration**: Import release scope, auto-assign engineers
- **Offline Resilience**: localStorage fallback if API unavailable
- **History**: Complete archive of all ceremonies

---

## User Roles

- **ADMIN** (1): Full system access
- **LEADER** (4): Will, James, Oleh, Krystian - manage all workstreams
- **ENGINEER** (20+): Assigned workstreams only

---

## API Endpoints

- `POST /api/save-ceremony` - Persist ceremony state
- `GET /api/get-ceremonies` - Paginated list
- `POST /api/linear/fetch-release-scope` - Import from Linear

---

## Working Here

### Local Dev
```bash
vercel link
vercel dev
```

### Customization
- Add workstream: Edit INITIAL_DATA in index.html + authConfig.js
- Add engineer: Update USER_DEFINITIONS in authConfig.js

---

## Team & Ownership

**Key Contributors**: procrypto (15 PRs)
**Created**: November 2025
**Status**: Active production use (weekly ceremonies)
