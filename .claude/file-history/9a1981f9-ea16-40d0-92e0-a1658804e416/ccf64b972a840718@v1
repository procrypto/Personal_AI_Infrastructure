---
phase: 07-layout-reorganization
plan: 01
type: execute
---

<objective>
Reorganize autopilot widget layout for better visual hierarchy and information flow.

Purpose: Users need to quickly understand system status and find controls. Current layout has logical sections but lacks clear visual grouping.
Output: Refactored widget with improved section organization, spacing, and visual hierarchy.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./07-01-SUMMARY.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06-real-time-activity-indicators/06-01-SUMMARY.md
@apps/web-terminal/src/ui/dashboard/widgets/autopilot-widget.tsx

**Current layout order:**
1. Header (Bot icon, title, scan#, tokens, countdown, market status)
2. Connection warning (if disconnected)
3. Controls Panel (collapsible)
4. Strategies Panel (collapsible)
5. Stats Panel (4-column grid)
6. Last Analysis Row
7. Open Positions (if any)
8. Token Lists (scrollable: Watchlist, Trending, Whales)
9. Recent Signals (bottom)

**Reorganization goals:**
- Group "configuration" together (Controls + Strategies)
- Group "performance" together (Stats + Positions)
- Group "activity" together (Last Analysis + Signals)
- Token lists remain as main scrollable content
- Clear visual dividers between groups

**New layout order:**
1. Header (unchanged)
2. Connection warning (if disconnected)
3. **Performance Section** - Stats + Open Positions
4. **Activity Section** - Last Analysis + Recent Signals
5. **Token Watch Section** - Token Lists (main scrollable area)
6. **Configuration Section** - Controls + Strategies (moved to bottom)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Reorganize widget sections and add section dividers</name>
  <files>apps/web-terminal/src/ui/dashboard/widgets/autopilot-widget.tsx</files>
  <action>
Refactor AutopilotWidget component to reorder sections:

1. Move StatsPanel + Open Positions together after connection warning
2. Move LastAnalysisRow + Recent Signals together after stats
3. Keep Token Lists (watchlist, trending, whales) as main scrollable content
4. Move ControlsPanel + StrategiesPanel to bottom of widget

Add visual section grouping:
- Create a subtle section divider component or use consistent border-t styling
- Add section headers with smaller text: "Performance", "Activity", "Tokens", "Configuration"
- Use consistent gap-3 between sections, gap-2 within sections

Typography improvements:
- Section headers: text-[10px] text-text-tertiary uppercase tracking-wide font-medium
- Existing component styling remains unchanged

Keep all existing components (MarketStatusBadge, ScanCountdown, PositionCard, etc.) unchanged - only reorganize their render order and add section wrappers.
  </action>
  <verify>
Dev server running: visual inspection shows:
- Stats/Positions appear before Activity
- Last Analysis + Signals grouped together
- Token lists in middle as scrollable area
- Controls/Strategies at bottom
- Subtle section dividers visible
  </verify>
  <done>
Widget sections reorganized into logical groups with section headers. Performance → Activity → Tokens → Configuration flow from top to bottom.
  </done>
</task>

<task type="auto">
  <name>Task 2: Improve spacing and alignment consistency</name>
  <files>apps/web-terminal/src/ui/dashboard/widgets/autopilot-widget.tsx</files>
  <action>
Fine-tune spacing for visual polish:

1. Header row: Ensure items-center alignment, gap-2 between icon groups
2. Section gaps: gap-4 between major sections (Performance, Activity, etc.), gap-2 within sections
3. Panel padding: Ensure consistent px-3 py-2 on all panel headers
4. Text alignment: All section headers left-aligned with consistent margin-bottom (mb-1.5)

Remove any redundant border classes that conflict with section dividers.

If the widget feels too cramped, increase gap-3 to gap-4 between major sections only.
  </action>
  <verify>
Visual inspection: Widget has consistent spacing, no cramped areas, clear visual rhythm between sections. Scroll behavior works correctly for token lists.
  </verify>
  <done>
Consistent spacing throughout widget. Clear visual separation between sections without excessive whitespace.
  </done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `bun run typecheck` passes (no TS errors)
- [ ] Dev server renders widget correctly
- [ ] Scroll behavior works for token lists
- [ ] All existing functionality preserved (toggles, countdowns, etc.)
- [ ] Layout looks balanced on typical widget sizes
</verification>

<success_criteria>

- All tasks completed
- Widget sections reorganized into logical groups
- Visual hierarchy improved
- No TypeScript errors
- No functional regressions
</success_criteria>

<output>
After completion, create `.planning/phases/07-layout-reorganization/07-01-SUMMARY.md`:

# Phase 7 Plan 1: Layout Reorganization Summary

**[One-liner describing the reorganization outcome]**

## Accomplishments

- [Key layout change 1]
- [Key layout change 2]

## Files Modified

- `apps/web-terminal/src/ui/dashboard/widgets/autopilot-widget.tsx` - Section reorganization

## Decisions Made

[Layout decisions and rationale]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Phase Readiness

Ready for Phase 8: Collapsible Sections & Polish
</output>
