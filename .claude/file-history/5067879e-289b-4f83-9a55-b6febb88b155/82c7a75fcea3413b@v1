# web-terminal-frontend-tests - Synthesized Context

## Discovery Summary
- **First discovered**: 2025-01-10
- **Last updated**: 2025-01-10
- **Discovery depth**: Standard
- **Documentation quality**: Excellent (comprehensive README)

---

## System Identity

**What it is**: Playwright-based E2E test automation framework for Telemetry.io.

**What it does**:
- Automates browser testing for web-terminal-frontend
- Handles WebAuthn/passkey authentication flows
- Uses Mailosaur for email verification testing
- Provides AI-powered visual assertions via Claude
- Runs smoke and regression suites across environments

**Key insight**: This is the QA team's automation repo. Features Claude-powered screenshot assertions (assertAI) - advanced pattern for visual testing.

---

## Architecture Highlights

### Page Object Model
| Page | Size | Coverage |
|------|------|----------|
| DiscoveryPage | 52KB | Main app functionality |
| BasePage | 14KB | Shared utilities |
| SecurityPage | 8KB | Auth/security flows |
| Others | <7KB | Specific features |

### Test Suites
```
tests/smoke/
├── discovery.spec.ts           # Token discovery
├── discovery-filters.spec.ts   # Filter functionality
├── referral-flow.spec.ts       # Referral system
├── security.spec.ts            # Security features
├── seed-phrase-validation.spec.ts  # Wallet recovery
├── settings.spec.ts            # User settings
├── trading-presets.spec.ts     # Trading config
├── walletTracker.spec.ts       # Multi-wallet
└── ai-assertion-demo.spec.ts   # AI visual testing
```

### Unique Capability: AI Assertions
```typescript
await assertAI(page, 'The page shows a token table with prices');
// → Claude analyzes screenshot → returns pass/fail with confidence
```

---

## Key Capabilities

### For QA/Testing
| Capability | Value |
|------------|-------|
| AI assertions | Visual verification without brittle selectors |
| Multi-env | Test staging, prod, develop, preview |
| Passkey automation | Virtual WebAuthn authenticator |
| Email testing | Real email flow verification |
| CI/CD integration | GitHub Actions + Slack alerts |

### Environment Support
| Env | URL | Shares API with |
|-----|-----|-----------------|
| Production | app.telemetry.io | Staging |
| Staging | staging.telemetry.io | Production |
| Develop | guild-navigator.bonkbot.io | Preview |
| Preview | PR URL | Develop |

---

## Integration Map

### Systems Tested
| System | Test Focus |
|--------|------------|
| web-terminal-frontend | All UI functionality |
| bonkbot (via UI) | Auth, trading flows |
| web-terminal (via UI) | Market data display |

### External Services
| Service | Purpose |
|---------|---------|
| Mailosaur | Email verification codes |
| Anthropic API | AI screenshot assertions |
| Slack | Test result notifications |

---

## Working Here

### Quick Start
```bash
npm install
npx playwright install chromium
npm run create-account test@bx3gmdhp.mailosaur.net
npm test
```

### Common Locations
| Task | Path |
|------|------|
| Add test | `tests/smoke/feature.spec.ts` |
| Add page object | `pages/NewPage.ts` |
| Add selectors | `utils/selectors.ts` |
| Modify auth | `fixtures/auth.fixture.ts` |
| AI assertion logic | `utils/ai/assertAI.ts` |

---

## Session Notes

*Accumulated learnings:*

- 58 commits - active QA automation project
- AI assertions use Claude to analyze screenshots (0.8 confidence threshold)
- Passkey credentials split by API environment (prod vs beta)
- Account creation script handles both environments in one run
- Tests triggered from frontend PR workflow via `workflow_call`
- Slack channel: `#automation-fe-team-alerts`
- Test timeout: 120s (accommodates slow flows like seed phrase validation)
