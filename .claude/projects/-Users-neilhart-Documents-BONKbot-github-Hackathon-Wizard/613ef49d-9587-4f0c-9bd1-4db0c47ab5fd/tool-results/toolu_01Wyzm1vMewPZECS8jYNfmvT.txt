The file /Users/neilhart/Documents/BONKbot/github/token-analysis-autopilot/src/cli.ts has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
   245→      }
   246→      break;
   247→    }
   248→
   249→    case 'run': {
   250→      const watchlist = configStore.getWatchlist();
   251→      const ruleSets = configStore.getRuleSets();
   252→
   253→      if (ruleSets.length === 0) {
   254→        console.error('No active rule sets. Use "use <template>" to add one.');
   255→        process.exit(1);
   256→      }
   257→
   258→      const config = configStore.get();
   259→      const trigger = createTrigger(config.trigger);
   260→
   261→      // Combine watchlist + open positions
   262→      const getTokensToWatch = () => {
   263→        const tokens = new Map<string, { mint: string; symbol?: string }>();
   264→        for (const t of watchlist) {
   265→          tokens.set(t.mint, { mint: t.mint, symbol: t.symbol });
   266→        }
   267→        for (const trade of paperTracker.getOpenTrades()) {
   268→          if (!tokens.has(trade.mint)) {
   269→            tokens.set(trade.mint, { mint: trade.mint, symbol: trade.symbol });
   270→          }
   271→        }
   272→        return Array.from(tokens.values());
   273→      };
   274→
   275→      const tokensToWatch = getTokensToWatch();
   276→      if (tokensToWatch.length === 0) {
   277→        console.error('Nothing to watch. Add tokens with "watch <mint>" or have open trades.');
   278→        process.exit(1);
   279→      }
   280→
   281→      const openCount = paperTracker.getOpenTrades().length;
   282→      console.log('Starting analysis loop... (Ctrl+C to stop)');
   283→      console.log(`  Watchlist: ${watchlist.length} | Open trades: ${openCount}`);
   284→      console.log(`  Rules: ${ruleSets.length} sets | Mode: ${config.trigger.mode}`);
   285→      console.log(`  Interval: ${config.pollIntervalMs}ms\n`);
   286→
   287→      const engine = new RuleEngine({ api: localApi });
   288→      for (const ruleSet of ruleSets) {
   289→        engine.addRulesFromConfig(ruleSet.rules);
   290→      }
   291→
   292→      const runLoop = async () => {
   293→        const tokens = getTokensToWatch();
   294→        for (const token of tokens) {
   295→          try {
   296→            const signals = await engine.analyzeToken(token.mint);
   297→            const result = engine.aggregateSignals(signals);
   298→
   299→            if (result.action !== 'hold') {
   300→              const marketData = await localApi.getMarketData(token.mint);
   301→
   302→              await trigger.trigger({
   303→                mint: token.mint,
   304→                symbol: marketData.symbol || token.symbol || 'UNKNOWN',
   305→                action: result.action,
   306→                priceSol: marketData.price_sol,
   307→                priceUsd: marketData.price_usd,
   308→                ruleSetId: ruleSets[0].id,
   309→                signals: result.signals,
   310→                confidence: result.confidence,
   311→              });
   312→
   313→              await paperTracker.save();
   314→            }
   315→          } catch (error) {
   316→            console.error(`Error analyzing ${token.symbol || token.mint}:`, error);
   317→          }
   318→        }
   319→      };
   320→
   321→      // Run immediately, then on interval
   322→      await runLoop();
   323→      setInterval(runLoop, config.pollIntervalMs);
   324→      break;
   325→    }
   326→
   327→    case 'trades': {
   328→      const trades = paperTracker.getAllTrades();
   329→      if (trades.length === 0) {