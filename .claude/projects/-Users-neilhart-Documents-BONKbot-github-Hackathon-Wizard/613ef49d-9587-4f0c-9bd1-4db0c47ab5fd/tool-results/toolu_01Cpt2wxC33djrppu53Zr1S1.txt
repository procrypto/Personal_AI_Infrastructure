     1â†’/* eslint-disable lingui/no-unlocalized-strings */
     2â†’import type { ComponentType, ReactNode } from "react";
     3â†’import {
     4â†’  PortfolioWidget,
     5â†’  PortfolioWidgetHeaderControls,
     6â†’  WatchlistWidget,
     7â†’  MiniTradeWidget,
     8â†’  PvpSpectatorWidget,
     9â†’  XRayBubbleWidget,
    10â†’  XRayBubbleWidgetHeaderControls,
    11â†’  KolsWidget,
    12â†’  KolsWidgetHeaderControls,
    13â†’  // TradingDnaWidget, // PUNTED
    14â†’  // PUNTED FOR FRIDAY:
    15â†’  // WalletTrackerWidget,
    16â†’  // WhaleMovesWidget,
    17â†’  // DiscoveryWidget,
    18â†’  // XRayWidget,
    19â†’  // XRayAboutToGraduateWidget,
    20â†’  // XRayGraduatedWidget,
    21â†’  // LaunchpadVolumeWidget,
    22â†’  // LaunchesGraduationsWidget,
    23â†’  // LiveTradesWidget,
    24â†’} from "./widgets";
    25â†’import PvPIcon from "@/assets/icons/pvp/mdi_pen-remove.svg";
    26â†’import {
    27â†’  LineChart,
    28â†’  PieChart,
    29â†’  Star,
    30â†’  Scan,
    31â†’  Users,
    32â†’  // Dna, // PUNTED
    33â†’  // PUNTED FOR FRIDAY:
    34â†’  // Rocket,
    35â†’  // GraduationCap,
    36â†’  // Flame,
    37â†’  // Waves,
    38â†’  // BarChart2,
    39â†’  // Activity,
    40â†’  // TrendingUp,
    41â†’} from "lucide-react";
    42â†’
    43â†’export type WidgetType =
    44â†’  | "portfolio"
    45â†’  | "watchlist"
    46â†’  | "xray-bubble"
    47â†’  | "mini-trade"
    48â†’  | "pvp-spectator"
    49â†’  | "kols";
    50â†’// PUNTED FOR FRIDAY:
    51â†’// | "whale-moves"
    52â†’// | "discovery"
    53â†’// | "xray"
    54â†’// | "xray-about-to-graduate"
    55â†’// | "xray-graduated"
    56â†’// | "launchpad-volume"
    57â†’// | "launches-graduations"
    58â†’// | "live-trades"
    59â†’
    60â†’export type WidgetSize = { w: number; h: number };
    61â†’
    62â†’export type WidgetSizePreset = {
    63â†’  size: WidgetSize;
    64â†’  label: "S" | "M" | "L" | "XL";
    65â†’};
    66â†’
    67â†’export type WidgetCatalogItem = {
    68â†’  type: WidgetType;
    69â†’  title: string;
    70â†’  description: string;
    71â†’  icon: string | ReactNode;
    72â†’  component: ComponentType<{ widgetId?: string }>;
    73â†’  defaultSize: WidgetSize;
    74â†’  minSize: WidgetSize;
    75â†’  maxSize: WidgetSize; // Maximum allowed size
    76â†’  sizePresets?: WidgetSizePreset[]; // Optional S/M/L presets for quick resize
    77â†’  category: "trading" | "analytics" | "social";
    78â†’  hideHeader?: boolean;
    79â†’  multiInstance?: boolean; // Allows adding multiple instances of this widget
    80â†’  maxInstances?: number; // Maximum number of instances allowed (only for multiInstance widgets)
    81â†’  renderHeaderControls?: ComponentType<{ widgetId?: string }>; // Optional header controls (tabs, filters, etc.)
    82â†’  contentClassName?: string; // Custom classes for content area (e.g., for padding)
    83â†’};
    84â†’
    85â†’// Standardized preset sizes
    86â†’// S:  w: 4, h: 3.5 = 350px (fits 6 widgets on 16" Mac)
    87â†’// M:  w: 4, h: 5   = 500px
    88â†’// L:  w: 4, h: 8   = 800px
    89â†’// XL: w: 6, h: 8   = 800px (wide)
    90â†’const SIZE_S = { w: 4, h: 3.5 };
    91â†’const SIZE_M = { w: 4, h: 5 };
    92â†’const SIZE_L = { w: 4, h: 8 };
    93â†’const SIZE_XL = { w: 6, h: 8 };
    94â†’
    95â†’// Size constraints by widget type
    96â†’const MAX_SIZE = { w: 12, h: 8 };
    97â†’
    98â†’// Reusable preset arrays
    99â†’const PRESETS_S_M_L_XL: WidgetSizePreset[] = [
   100â†’  { size: SIZE_S, label: "S" },
   101â†’  { size: SIZE_M, label: "M" },
   102â†’  { size: SIZE_L, label: "L" },
   103â†’  { size: SIZE_XL, label: "XL" },
   104â†’];
   105â†’
   106â†’const PRESETS_S_M_L: WidgetSizePreset[] = [
   107â†’  { size: SIZE_S, label: "S" },
   108â†’  { size: SIZE_M, label: "M" },
   109â†’  { size: SIZE_L, label: "L" },
   110â†’];
   111â†’
   112â†’const PRESETS_M_L_XL: WidgetSizePreset[] = [
   113â†’  { size: SIZE_M, label: "M" },
   114â†’  { size: SIZE_L, label: "L" },
   115â†’  { size: SIZE_XL, label: "XL" },
   116â†’];
   117â†’
   118â†’export const widgetCatalog: Record<WidgetType, WidgetCatalogItem> = {
   119â†’  // discovery: {
   120â†’  //   type: "discovery",
   121â†’  //   title: "Discovery",
   122â†’  //   description: "Find trending tokens and new opportunities",
   123â†’  //   icon: "ðŸ”¥",
   124â†’  //   component: DiscoveryWidget,
   125â†’  //   defaultSize: SIZE_M,
   126â†’  //   minSize: SIZE_S,
   127â†’  //   maxSize: MAX_SIZE,
   128â†’  //   sizePresets: PRESETS_S_M_L_XL,
   129â†’  //   category: "trading",
   130â†’  // },
   131â†’  portfolio: {
   132â†’    type: "portfolio",
   133â†’    title: "Portfolio",
   134â†’    description: "Track your holdings and performance",
   135â†’    icon: <PieChart className="size-5" />,
   136â†’    component: PortfolioWidget,
   137â†’    renderHeaderControls: PortfolioWidgetHeaderControls,
   138â†’    defaultSize: SIZE_XL,
   139â†’    minSize: SIZE_S,
   140â†’    maxSize: MAX_SIZE,
   141â†’    sizePresets: PRESETS_S_M_L_XL,
   142â†’    category: "trading",
   143â†’  },
   144â†’  watchlist: {
   145â†’    type: "watchlist",
   146â†’    title: "Watchlist",
   147â†’    description: "Monitor your favorite tokens",
   148â†’    icon: <Star className="size-5" />,
   149â†’    component: WatchlistWidget,
   150â†’    defaultSize: SIZE_S,
   151â†’    minSize: SIZE_S,
   152â†’    maxSize: MAX_SIZE,
   153â†’    sizePresets: PRESETS_S_M_L_XL,
   154â†’    category: "trading",
   155â†’  },
   156â†’  kols: {
   157â†’    type: "kols",
   158â†’    title: "KOL Leaderboard",
   159â†’    description: "Challenge top traders and KOLs to PvP battles",
   160â†’    icon: <Users className="size-5" />,
   161â†’    component: KolsWidget,
   162â†’    renderHeaderControls: KolsWidgetHeaderControls,
   163â†’    defaultSize: SIZE_S,
   164â†’    minSize: SIZE_S,
   165â†’    maxSize: SIZE_L,
   166â†’    sizePresets: PRESETS_S_M_L,
   167â†’    category: "social",
   168â†’  },
   169â†’  // PUNTED FOR FRIDAY - will be better with Lists feature
   170â†’  // "whale-moves": {
   171â†’  //   type: "whale-moves",
   172â†’  //   title: "Whale Moves",
   173â†’  //   description: "Track large wallet activity",
   174â†’  //   icon: <Waves className="size-5" />,
   175â†’  //   component: WhaleMovesWidget,
   176â†’  //   defaultSize: SIZE_M,
   177â†’  //   minSize: SIZE_S,
   178â†’  //   maxSize: SIZE_L,
   179â†’  //   sizePresets: PRESETS_S_M_L,
   180â†’  //   category: "analytics",
   181â†’  // },
   182â†’  // PUNTED FOR FRIDAY
   183â†’  // discovery: {
   184â†’  //   type: "discovery",
   185â†’  //   title: "Discovery",
   186â†’  //   description: "Find trending tokens and new opportunities",
   187â†’  //   icon: <Flame className="size-5" />,
   188â†’  //   component: DiscoveryWidget,
   189â†’  //   defaultSize: SIZE_M,
   190â†’  //   minSize: SIZE_S,
   191â†’  //   maxSize: MAX_SIZE,
   192â†’  //   sizePresets: PRESETS_S_M_L_XL,
   193â†’  //   category: "trading",
   194â†’  // },
   195â†’  // PUNTED - Wallet Tracker (will be better with Lists feature)
   196â†’  // "wallet-tracker": {
   197â†’  //   type: "wallet-tracker",
   198â†’  //   title: "Wallet Tracker",
   199â†’  //   description: "Follow top traders and KOLs",
   200â†’  //   icon: <Users className="size-5" />,
   201â†’  //   component: WalletTrackerWidget,
   202â†’  //   defaultSize: SIZE_S,
   203â†’  //   minSize: SIZE_S,
   204â†’  //   maxSize: MAX_SIZE,
   205â†’  //   sizePresets: PRESETS_S_M_L_XL,
   206â†’  //   category: "social",
   207â†’  // },
   208â†’  // "trading-dna": {
   209â†’  //   type: "trading-dna",
   210â†’  //   title: "Your Trading DNA",
   211â†’  //   description: "Personal trading analytics and insights",
   212â†’  //   icon: <Dna className="size-5" />,
   213â†’  //   component: TradingDnaWidget,
   214â†’  //   defaultSize: SIZE_S,
   215â†’  //   minSize: SIZE_S,
   216â†’  //   maxSize: MAX_SIZE,
   217â†’  //   sizePresets: PRESETS_S_M_L_XL,
   218â†’  //   category: "analytics",
   219â†’  // },
   220â†’  // PUNTED FOR FRIDAY - X-Ray tables (keeping only xray-bubble)
   221â†’  // xray: {
   222â†’  //   type: "xray",
   223â†’  //   title: "X-Ray: New Pairs",
   224â†’  //   description: "Scan newly launched token pairs",
   225â†’  //   icon: <Scan className="size-5" />,
   226â†’  //   component: XRayWidget,
   227â†’  //   defaultSize: SIZE_M,
   228â†’  //   minSize: SIZE_S,
   229â†’  //   maxSize: MAX_SIZE,
   230â†’  //   sizePresets: PRESETS_S_M_L,
   231â†’  //   category: "analytics",
   232â†’  // },
   233â†’  // "xray-about-to-graduate": {
   234â†’  //   type: "xray-about-to-graduate",
   235â†’  //   title: "X-Ray: About to Graduate",
   236â†’  //   description: "Tokens nearing graduation threshold",
   237â†’  //   icon: <Rocket className="size-5" />,
   238â†’  //   component: XRayAboutToGraduateWidget,
   239â†’  //   defaultSize: SIZE_M,
   240â†’  //   minSize: SIZE_S,
   241â†’  //   maxSize: MAX_SIZE,
   242â†’  //   sizePresets: PRESETS_S_M_L,
   243â†’  //   category: "analytics",
   244â†’  // },
   245â†’  // "xray-graduated": {
   246â†’  //   type: "xray-graduated",
   247â†’  //   title: "X-Ray: Graduated",
   248â†’  //   description: "Recently graduated tokens",
   249â†’  //   icon: <GraduationCap className="size-5" />,
   250â†’  //   component: XRayGraduatedWidget,
   251â†’  //   defaultSize: SIZE_M,
   252â†’  //   minSize: SIZE_S,
   253â†’  //   maxSize: MAX_SIZE,
   254â†’  //   sizePresets: PRESETS_S_M_L,
   255â†’  //   category: "analytics",
   256â†’  // },
   257â†’  "xray-bubble": {
   258â†’    type: "xray-bubble",
   259â†’    title: "X-Ray Bubbles",
   260â†’    description:
   261â†’      "Interactive bubble chart showing new pairs and graduated tokens",
   262â†’    icon: <Scan className="size-5" />,
   263â†’    component: XRayBubbleWidget,
   264â†’    renderHeaderControls: XRayBubbleWidgetHeaderControls,
   265â†’    defaultSize: SIZE_XL,
   266â†’    minSize: SIZE_M,
   267â†’    maxSize: MAX_SIZE,
   268â†’    sizePresets: PRESETS_M_L_XL,
   269â†’    category: "analytics",
   270â†’  },
   271â†’  // PUNTED FOR FRIDAY - Launchpad
   272â†’  // "launchpad-volume": {
   273â†’  //   type: "launchpad-volume",
   274â†’  //   title: "Launchpad Volume",
   275â†’  //   description: "SOL launchpad trading volume trends",
   276â†’  //   icon: <BarChart2 className="size-5" />,
   277â†’  //   component: LaunchpadVolumeWidget,
   278â†’  //   defaultSize: SIZE_M,
   279â†’  //   minSize: SIZE_S,
   280â†’  //   maxSize: MAX_SIZE,
   281â†’  //   sizePresets: PRESETS_S_M_L,
   282â†’  //   category: "analytics",
   283â†’  //   hideHeader: true,
   284â†’  // },
   285â†’  // PUNTED FOR FRIDAY - Launchpad
   286â†’  // "launches-graduations": {
   287â†’  //   type: "launches-graduations",
   288â†’  //   title: "Launches & Graduations",
   289â†’  //   description: "Track new token launches and graduations",
   290â†’  //   icon: <Activity className="size-5" />,
   291â†’  //   component: LaunchesGraduationsWidget,
   292â†’  //   defaultSize: SIZE_M,
   293â†’  //   minSize: SIZE_S,
   294â†’  //   maxSize: MAX_SIZE,
   295â†’  //   sizePresets: PRESETS_S_M_L,
   296â†’  //   category: "analytics",
   297â†’  //   hideHeader: true,
   298â†’  // },
   299â†’  // PUNTED FOR FRIDAY - Live Trades
   300â†’  // "live-trades": {
   301â†’  //   type: "live-trades",
   302â†’  //   title: "Live Trades",
   303â†’  //   description: "Real-time trade feed for any token",
   304â†’  //   icon: <TrendingUp className="size-5" />,
   305â†’  //   component: LiveTradesWidget,
   306â†’  //   defaultSize: SIZE_M,
   307â†’  //   minSize: SIZE_S,
   308â†’  //   maxSize: MAX_SIZE,
   309â†’  //   sizePresets: PRESETS_S_M_L_XL,
   310â†’  //   category: "trading",
   311â†’  //   multiInstance: true,
   312â†’  // },
   313â†’  "mini-trade": {
   314â†’    type: "mini-trade",
   315â†’    title: "Live Chart",
   316â†’    description: "Chart and quick trade for any token",
   317â†’    icon: <LineChart className="size-5" />,
   318â†’    component: MiniTradeWidget,
   319â†’    defaultSize: SIZE_S,
   320â†’    minSize: SIZE_S,
   321â†’    maxSize: MAX_SIZE,
   322â†’    sizePresets: PRESETS_S_M_L_XL,
   323â†’    category: "trading",
   324â†’    multiInstance: true,
   325â†’    maxInstances: 6,
   326â†’    contentClassName: "p-0",
   327â†’  },
   328â†’  "pvp-spectator": {
   329â†’    type: "pvp-spectator",
   330â†’    title: "PvP Spectator",
   331â†’    description: "Watch live PvP battles with dynamic visualizations",
   332â†’    icon: <PvPIcon className="size-6" />,
   333â†’    component: PvpSpectatorWidget,
   334â†’    defaultSize: SIZE_S,
   335â†’    minSize: SIZE_S,
   336â†’    maxSize: MAX_SIZE,
   337â†’    sizePresets: PRESETS_S_M_L_XL,
   338â†’    category: "social",
   339â†’  },
   340â†’};
   341â†’
   342â†’// Helper to get widget type from widget instance ID (e.g., "mini-trade-1" -> "mini-trade")
   343â†’export const getWidgetTypeFromId = (widgetId: string): WidgetType | null => {
   344â†’  // Check if it's a direct match first
   345â†’  if (widgetId in widgetCatalog) {
   346â†’    return widgetId as WidgetType;
   347â†’  }
   348â†’
   349â†’  // Check for multi-instance widget (e.g., "mini-trade-123")
   350â†’  for (const type of Object.keys(widgetCatalog) as WidgetType[]) {
   351â†’    if (widgetId.startsWith(`${type}-`)) {
   352â†’      return type;
   353â†’    }
   354â†’  }
   355â†’
   356â†’  return null;
   357â†’};
   358â†’
   359â†’export const getWidgetsByCategory = (
   360â†’  category: WidgetCatalogItem["category"]
   361â†’) => {
   362â†’  return Object.values(widgetCatalog).filter(w => w.category === category);
   363â†’};
   364â†’
   365â†’export const getAllCategories = () => {
   366â†’  return ["trading", "analytics", "social"] as const;
   367â†’};
   368â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
