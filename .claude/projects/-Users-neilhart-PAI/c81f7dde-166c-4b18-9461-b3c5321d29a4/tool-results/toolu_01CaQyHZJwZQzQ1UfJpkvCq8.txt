     1→---
     2→name: SystemMap
     3→description: Organizational technical memory system for rapid system comprehension. USE WHEN user wants to map a codebase, understand a system, create ai.md documentation, prime context for a repo, discover system capabilities, OR build organizational knowledge. Also USE WHEN user mentions system discovery, repo documentation, cross-system mapping, or capability analysis.
     4→---
     5→
     6→# SystemMap
     7→
     8→Rapid system comprehension and organizational technical memory. Maps codebases, discovers capabilities, produces agent-centric documentation, and maintains cross-system knowledge.
     9→
    10→## Authoritative Sources
    11→
    12→- **ai.md Template:** `${PAI_DIR}/Skills/SystemMap/templates/AiMdTemplate.md`
    13→- **Knowledge Registry:** `~/Documents/Knowledge/` (central organizational brain)
    14→
    15→## Workflow Routing
    16→
    17→**When executing a workflow, do BOTH of these:**
    18→
    19→1. **Call the notification script** (for observability tracking):
    20→   ```bash
    21→   ~/.claude/Tools/SkillWorkflowNotification WORKFLOWNAME SystemMap
    22→   ```
    23→
    24→2. **Output the text notification** (for user visibility):
    25→   ```
    26→   Running the **WorkflowName** workflow from the **SystemMap** skill...
    27→   ```
    28→
    29→| Workflow | Trigger | File |
    30→|----------|---------|------|
    31→| **Discover** | "map this repo", "create ai.md", "document this system" | `workflows/Discover.md` |
    32→| **Prime** | "prime me on", "load context for", "what does X do" | `workflows/Prime.md` |
    33→| **Registry** | "show all systems", "update registry", "system gaps" | `workflows/Registry.md` |
    34→| **CrossMap** | "how does X connect to Y", "system dependencies", "data flows" | `workflows/CrossMap.md` |
    35→
    36→## Examples
    37→
    38→**Example 1: Map a new repository**
    39→```
    40→User: "Map the web-terminal repo and create an ai.md"
    41→-> Invokes Discover workflow
    42→-> Explores codebase structure, configs, existing docs
    43→-> Extracts capabilities, data sources, extension points
    44→-> Produces draft ai.md following template
    45→-> Registers system in central knowledge registry
    46→```
    47→
    48→**Example 2: Prime for working in a system**
    49→```
    50→User: "Prime me on the data API"
    51→-> Invokes Prime workflow
    52→-> Locates ai.md and related docs
    53→-> Loads relevant context into working memory
    54→-> Provides concise summary of capabilities and patterns
    55→-> Ready to work with full context
    56→```
    57→
    58→**Example 3: Understand cross-system relationships**
    59→```
    60→User: "How does the frontend consume data from web-terminal?"
    61→-> Invokes CrossMap workflow
    62→-> Reads both systems' documentation
    63→-> Maps data flows and interfaces
    64→-> Produces relationship diagram
    65→-> Identifies integration points
    66→```
    67→
    68→**Example 4: Find documentation gaps**
    69→```
    70→User: "Which repos are missing good documentation?"
    71→-> Invokes Registry workflow
    72→-> Scans registered systems
    73→-> Evaluates ai.md quality against checklist
    74→-> Reports gaps with specific recommendations
    75→```
    76→
    77→## Core Concepts
    78→
    79→### The Knowledge Hierarchy
    80→
    81→```
    82→~/Documents/Knowledge/           # Central organizational brain
    83→├── registry.md                  # Index of all known systems
    84→├── cross-system/                # Cross-system maps and flows
    85→│   ├── data-flows.md
    86→│   └── service-dependencies.md
    87→└── systems/                     # Per-system knowledge
    88→    ├── web-terminal/
    89→    │   └── context.md           # Extracted/synthesized knowledge
    90→    └── frontend/
    91→        └── context.md
    92→```
    93→
    94→### Per-Repo Documentation
    95→
    96→Each repository maintains its own:
    97→- `ai.md` - Agent-centric entry point (lives in repo)
    98→- Linked detailed docs (backend spec, API docs, etc.)
    99→
   100→### Discovery vs Prime
   101→
   102→- **Discover**: Deep exploration, produces artifacts, updates registry
   103→- **Prime**: Quick context loading for immediate work
   104→
   105→## Integration
   106→
   107→### With GSD
   108→
   109→SystemMap complements GSD workflows:
   110→- Run `Discover` before `gsd:new-project` to understand existing codebase
   111→- Use `Prime` before `gsd:plan-phase` to load relevant context
   112→- Cross-reference knowledge registry in project planning
   113→
   114→### With Research Agents
   115→
   116→Discovery workflow can spawn research agents to:
   117→- Fetch external API documentation
   118→- Find relevant library patterns
   119→- Investigate unfamiliar technologies
   120→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
