The file /Users/neilhart/PAI/.claude/Skills/SystemMap/workflows/Discover.md has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
   165→- Found 3 cross-system connections (documented)
   166→- Gaps identified: API endpoint documentation incomplete
   167→```
   168→
   169→## Error Handling
   170→
   171→- **No repo found**: Ask user to confirm path
   172→- **Existing ai.md**: Ask whether to enhance or replace
   173→- **Can't determine project type**: Proceed with generic structure, flag for review
   174→- **External dependencies unclear**: Note as gap, suggest research follow-up
   175→
   176→---
   177→
   178→## Completion Gate (MANDATORY)
   179→
   180→**CRITICAL: Do NOT mark discovery complete until ALL outputs are verified.**
   181→
   182→### Output Checklist
   183→
   184→Before finishing, verify ALL THREE outputs exist:
   185→
   186→1. **ai.md in repo** - `{repo_path}/ai.md`
   187→2. **context.md in Knowledge** - `~/Documents/Knowledge/systems/{name}/context.md`
   188→3. **Registry entry** - Updated in `~/Documents/Knowledge/registry.md`
   189→
   190→### Validation Commands
   191→
   192→Run these to verify outputs exist:
   193→
   194→```bash
   195→REPO_PATH="{repo_path}"
   196→SYSTEM_NAME="{name}"
   197→
   198→echo "=== Verifying Discover outputs ==="
   199→[ -f "$REPO_PATH/ai.md" ] && echo "✓ ai.md exists in repo" || echo "✗ MISSING: ai.md in repo"
   200→[ -f ~/Documents/Knowledge/systems/$SYSTEM_NAME/context.md ] && echo "✓ context.md exists" || echo "✗ MISSING: context.md"
   201→grep -q "$SYSTEM_NAME" ~/Documents/Knowledge/registry.md && echo "✓ registry entry exists" || echo "✗ MISSING: registry entry"
   202→```
   203→
   204→### Status Terminology
   205→
   206→Use these terms accurately in registry entries:
   207→
   208→| Status | Meaning |
   209→|--------|---------|
   210→| `Explored` | Phases 1-4 done, information gathered, NO outputs written |
   211→| `Documented` | ai.md + context.md written to filesystem |
   212→| `Registered` | Entry added to registry.md |
   213→| `Complete` | ALL THREE verified: ai.md + context.md + registry |
   214→
   215→**NEVER mark as "exploration complete" if ai.md doesn't exist.**
   216→
   217→### Registry Entry Format
   218→
   219→```markdown
   220→### {system-name}
   221→- **Path**: `{repo_path}`
   222→- **Type**: {type}
   223→- **Production**: Yes/No
   224→- **ai.md**: Yes (committed) | Yes (untracked) | No (pending)
   225→- **context.md**: Yes | No
   226→- **Status**: Complete | Documented | Explored | Not started
   227→- **Last Discovered**: {date}
   228→```
   229→
   230→### TodoWrite Integration
   231→
   232→Use TodoWrite to track discovery progress:
   233→
   234→```
   235→1. [ ] Initial survey (Phase 1)
   236→2. [ ] Structure mapping (Phase 2)
   237→3. [ ] Capability discovery (Phase 3)
   238→4. [ ] Cross-system context (Phase 4)
   239→5. [ ] Synthesis - write ai.md to repo (Phase 5)
   240→6. [ ] Registration - write context.md + update registry (Phase 6)
   241→7. [ ] Validation - run verification commands
   242→```
   243→
   244→Mark discovery complete ONLY after step 7 passes.
   245→