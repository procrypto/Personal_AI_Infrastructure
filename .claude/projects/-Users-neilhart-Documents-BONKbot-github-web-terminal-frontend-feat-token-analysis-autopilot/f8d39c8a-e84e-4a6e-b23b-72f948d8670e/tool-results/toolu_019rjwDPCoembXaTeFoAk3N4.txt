   207→  );
   208→};
   209→
   210→// Format market cap for display - shows readable values like "$234K" or "$1.2M"
   211→const formatMarketCap = (mcap: number | undefined): string => {
   212→  if (mcap === undefined) return "-";
   213→  if (mcap >= 1_000_000) return `$${(mcap / 1_000_000).toFixed(1)}M`;
   214→  if (mcap >= 1_000) return `$${(mcap / 1_000).toFixed(0)}K`;
   215→  return `$${mcap.toFixed(0)}`;
   216→};
   217→
   218→// Flash duration in ms - how long the bright flash lasts
   219→const FLASH_DURATION_MS = 100;
   220→
   221→// Map confluence count to background opacity (using brand palette)
   222→// Uses more of the 11 shade variations: 50, 100, 200, 300, 400, 500, 600, 700, 800, 900, 950
   223→// Flash = 0.7 (brightest bg, text still readable), highest confluence = 0.5
   224→function getSignalOpacity(
   225→  confluenceCount: number,
   226→  isFlashing: boolean
   227→): number {
   228→  if (isFlashing) return 0.7; // 700 - brightest background under text
   229→  if (confluenceCount >= 6) return 0.5; // 500 - highest confluence
   230→  if (confluenceCount === 5) return 0.4; // 400
   231→  if (confluenceCount === 4) return 0.35; // between 300-400
   232→  if (confluenceCount === 3) return 0.3; // 300
   233→  if (confluenceCount === 2) return 0.2; // 200
   234→  if (confluenceCount === 1) return 0.1; // 100
   235→  return 0;
   236→}

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
