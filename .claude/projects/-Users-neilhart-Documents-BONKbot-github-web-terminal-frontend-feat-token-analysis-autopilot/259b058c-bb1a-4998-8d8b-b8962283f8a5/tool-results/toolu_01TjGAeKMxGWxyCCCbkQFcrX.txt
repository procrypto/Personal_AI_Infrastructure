     1→---
     2→phase: 11-design-system-alignment
     3→plan: 01
     4→type: execute
     5→---
     6→
     7→<objective>
     8→Replace hardcoded Tailwind colors in AutopilotWidget with app design system variables.
     9→
    10→Purpose: Ensure visual consistency with the rest of the app and proper theme support.
    11→Output: AutopilotWidget using semantic color variables from index.css design system.
    12→</objective>
    13→
    14→<execution_context>
    15→~/.claude/get-shit-done/workflows/execute-phase.md
    16→./summary.md
    17→~/.claude/get-shit-done/references/checkpoints.md
    18→</execution_context>
    19→
    20→<context>
    21→@.planning/PROJECT.md
    22→@.planning/ROADMAP.md
    23→@.planning/STATE.md
    24→
    25→**Prior Phase (dependency):**
    26→@.planning/phases/10-data-flow-fixes/10-01-SUMMARY.md
    27→
    28→**Key Files:**
    29→@apps/web-terminal/src/ui/dashboard/widgets/autopilot-widget.tsx
    30→@apps/web-terminal/src/index.css
    31→
    32→**Design System Reference:**
    33→The app uses semantic CSS variables defined in index.css:
    34→
    35→| Raw Tailwind         | Design System Variable        | Semantic Meaning        |
    36→| -------------------- | ----------------------------- | ----------------------- |
    37→| text-green-400       | text-text-success             | Profit, positive change |
    38→| text-red-400         | text-text-error               | Loss, negative change   |
    39→| text-cyan-400        | text-text-turbo               | Turbo/accent color      |
    40→| text-yellow-400      | text-text-warning             | Warning, caution        |
    41→| text-blue-400        | text-text-info                | Info, neutral accent    |
    42→| text-purple-400      | text-purple                   | Purple accent           |
    43→| text-orange-400      | text-orange                   | Orange accent           |
    44→| bg-green-500/20      | bg-bg-success-primary         | Success background      |
    45→| bg-red-500/20        | bg-bg-error-primary           | Error background        |
    46→| bg-yellow-500/20     | bg-bg-warning-primary         | Warning background      |
    47→| border-green-500/30  | border-border-success-primary | Success border          |
    48→| border-red-500/30    | border-border-error-primary   | Error border            |
    49→| border-yellow-500/30 | border-border-warning-primary | Warning border          |
    50→| border-cyan-500/20   | border-border-turbo-primary   | Turbo border            |
    51→
    52→**Note:** Some colors like orange and gray may need to stay as Tailwind (no semantic equivalent).
    53→</context>
    54→
    55→<tasks>
    56→
    57→<task type="auto">
    58→  <name>Task 1: Replace hardcoded colors with design system variables</name>
    59→  <files>apps/web-terminal/src/ui/dashboard/widgets/autopilot-widget.tsx</files>
    60→  <action>
    61→Update all color classes in autopilot-widget.tsx to use design system variables:
    62→
    63→**Text colors:**
    64→
    65→- `text-green-400` → `text-text-success`
    66→- `text-red-400` → `text-text-error`
    67→- `text-cyan-400` → `text-text-turbo`
    68→- `text-yellow-400` → `text-text-warning`
    69→- `text-blue-400` → `text-text-info`
    70→- `text-purple-400` → `text-purple`
    71→- `text-gray-400` → `text-text-secondary`
    72→
    73→**Background colors:**
    74→
    75→- `bg-green-500/20` → `bg-bg-success-primary`
    76→- `bg-red-500/20` → `bg-bg-error-primary`
    77→- `bg-yellow-500/20` → `bg-bg-warning-primary`
    78→- `bg-gray-500/20` → `bg-bg-tertiary`
    79→- `bg-cyan-500/10` → `bg-bg-turbo-primary`
    80→
    81→**Border colors:**
    82→
    83→- `border-green-500/30` → `border-border-success-primary`
    84→- `border-red-500/30` → `border-border-error-primary`
    85→- `border-yellow-500/30` → `border-border-warning-primary`
    86→- `border-cyan-500/20` → `border-border-turbo-primary`
    87→
    88→**Keep unchanged (no semantic equivalent):**
    89→
    90→- `text-orange-400` (Flame icon) - use `text-orange`
    91→- Signal type colors that need distinct values (blue for rule_signal, etc.)
    92→
    93→Work through each component systematically:
    94→
    95→1. MarketStatusBadge - NORMAL/CAUTION/DUMP states
    96→2. PositionCard - profit/loss indicators
    97→3. SignalItem - signal type colors
    98→4. TokenRow - price change colors
    99→5. TokenListSection - icon colors
   100→6. ControlsPanel - mode badges, toggle icons
   101→7. StrategiesPanel - active/inactive states
   102→8. StatsPanel - win rate, P&L colors
   103→9. LastAnalysisRow - outcome colors
   104→10. Main widget - connection status, header
   105→    </action>
   106→    <verify>Run `bun run typecheck` to ensure no TypeScript errors from invalid class names</verify>
   107→    <done>All hardcoded Tailwind color classes replaced with design system variables where semantic equivalents exist</done>
   108→    </task>
   109→
   110→<task type="checkpoint:human-verify" gate="blocking">
   111→  <what-built>Updated AutopilotWidget colors to use app design system</what-built>
   112→  <how-to-verify>
   113→    1. Run: `cd apps/web-terminal && bun run dev`
   114→    2. Open: http://localhost:5174
   115→    3. Navigate to Dashboard and locate the Autopilot widget
   116→    4. Verify these color states:
   117→       - **Success state (green):** P&L positive, win rate ≥50%, market NORMAL
   118→       - **Error state (red):** P&L negative, win rate <50%, market DUMP
   119→       - **Warning state (yellow):** Market CAUTION, paper mode badge
   120→       - **Turbo state (cyan):** BUY signal, position with OPEN badge
   121→       - **Info state (blue):** Auto Sources icon, rule_signal type
   122→    5. Compare visual appearance with other widgets (watchlist, portfolio)
   123→    6. Check both expanded and collapsed states
   124→    7. Verify no jarring color differences from rest of app
   125→  </how-to-verify>
   126→  <resume-signal>Type "approved" if colors match app design system, or describe specific issues</resume-signal>
   127→</task>
   128→
   129→</tasks>
   130→
   131→<verification>
   132→Before declaring phase complete:
   133→- [ ] `bun run typecheck` passes without errors
   134→- [ ] All semantic colors use design system variables
   135→- [ ] Widget visually consistent with other app widgets
   136→- [ ] No regression in functionality
   137→</verification>
   138→
   139→<success_criteria>
   140→
   141→- All hardcoded Tailwind colors replaced with design system variables
   142→- Widget colors match app theme (success=lime-green, error=red, turbo=cyan)
   143→- Human verification confirms visual consistency
   144→- TypeScript compilation succeeds
   145→- Phase 11 and milestone v1.3 complete
   146→  </success_criteria>
   147→
   148→<output>
   149→After completion, create `.planning/phases/11-design-system-alignment/11-01-SUMMARY.md`:
   150→
   151→# Phase 11 Plan 01: Design System Alignment Summary
   152→
   153→**[Substantive one-liner about what shipped]**
   154→
   155→## Accomplishments
   156→
   157→- [Key outcome 1]
   158→- [Key outcome 2]
   159→
   160→## Files Created/Modified
   161→
   162→- `apps/web-terminal/src/ui/dashboard/widgets/autopilot-widget.tsx` - Updated color classes
   163→
   164→## Decisions Made
   165→
   166→[Key decisions and rationale, or "None"]
   167→
   168→## Issues Encountered
   169→
   170→[Problems and resolutions, or "None"]
   171→
   172→## Next Step
   173→
   174→Phase complete, milestone v1.3 complete. Autopilot frontend integration ready for use.
   175→</output>
   176→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
