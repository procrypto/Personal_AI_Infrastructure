/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/ui/dashboard/widgets/autopilot-widget.tsx-577-  );
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/ui/dashboard/widgets/autopilot-widget.tsx-578-};
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/ui/dashboard/widgets/autopilot-widget.tsx-579-
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/ui/dashboard/widgets/autopilot-widget.tsx-580-// Stats Panel Component
apps/web-terminal/src/ui/dashboard/widgets/autopilot-widget.tsx-581-const StatsPanel = ({ stats }: { stats: AutopilotStats }) => {
apps/web-terminal/src/ui/dashboard/widgets/autopilot-widget.tsx:582:  const isProfit = stats.totalPnlSol >= 0;
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/ui/dashboard/widgets/autopilot-widget.tsx-583-
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/ui/dashboard/widgets/autopilot-widget.tsx-584-  return (
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/ui/dashboard/widgets/autopilot-widget.tsx-585-    <div className="border-border-primary bg-bg-tertiary/30 grid grid-cols-4 gap-2 rounded-lg border p-3">
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/ui/dashboard/widgets/autopilot-widget.tsx-586-      <div className="text-center">
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/ui/dashboard/widgets/autopilot-widget.tsx-587-        <div className="text-text-primary text-lg font-bold">
--
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-15- * Current price and P&L are nullable - null when market data isn't available.
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-16- */
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-17-export interface AutopilotPositionWithPnL extends AutopilotPositionEntry {
apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-18-  currentPriceSol: number | null;
apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-19-  pnlPercent: number | null;
apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts:20:  pnlSol: number | null;
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-21-}
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-22-
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-23-/**
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-24- * Hook to get autopilot positions with live P&L calculated from NATS market data.
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-25- */
--
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-44-        // No market data available yet
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-45-        return {
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-46-          ...position,
apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-47-          currentPriceSol: null,
apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-48-          pnlPercent: null,
apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts:49:          pnlSol: null,
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-50-        };
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-51-      }
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-52-
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-53-      // Get the latest market data (there's only one item keyed as "latest")
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-54-      const latestMarketData = Array.from(mintData.values())[0];
--
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-56-      if (!latestMarketData?.price_sol) {
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-57-        return {
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-58-          ...position,
apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-59-          currentPriceSol: null,
apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-60-          pnlPercent: null,
apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts:61:          pnlSol: null,
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-62-        };
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-63-      }
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-64-
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-65-      // price_sol is a number in TokenMarketData
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-66-      const currentPriceSol = latestMarketData.price_sol;
--
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-72-      ) {
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-73-        return {
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-74-          ...position,
apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-75-          currentPriceSol: null,
apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-76-          pnlPercent: null,
apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts:77:          pnlSol: null,
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-78-        };
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-79-      }
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-80-
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-81-      // Calculate P&L
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-82-      const pnlPercent =
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-83-        ((currentPriceSol - position.entryPriceSol) / position.entryPriceSol) *
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-84-        100;
apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts:85:      const pnlSol = (pnlPercent / 100) * position.positionSizeSol;
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-86-
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-87-      return {
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-88-        ...position,
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-89-        currentPriceSol,
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-90-        pnlPercent,
apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts:91:        pnlSol,
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-92-      };
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-93-    });
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-94-  }, [positions, marketDataMap]);
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotPositions.ts-95-};
--
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-9-
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-10-/**
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-11- * Pure function to calculate P&L given entry price, current price, and position size.
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-12- * Returns null for invalid inputs (NaN, zero entry price, etc).
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-13- */
apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts:14:export function calculatePnL(
apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-15-  entryPriceSol: number,
apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-16-  currentPriceSol: number,
apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-17-  positionSizeSol: number
apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts:18:): { pnlPercent: number; pnlSol: number } | null {
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-19-  // Validate inputs
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-20-  if (
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-21-    isNaN(currentPriceSol) ||
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-22-    isNaN(entryPriceSol) ||
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-23-    isNaN(positionSizeSol) ||
--
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-28-
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-29-  // Calculate percentage P&L
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-30-  const pnlPercent = ((currentPriceSol - entryPriceSol) / entryPriceSol) * 100;
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-31-
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-32-  // Calculate SOL amount P&L
apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts:33:  const pnlSol = (pnlPercent / 100) * positionSizeSol;
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-34-
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-35-  return {
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-36-    pnlPercent,
apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts:37:    pnlSol,
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-38-  };
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-39-}
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-40-
apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts:41:describe("calculatePnL", () => {
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-42-  it("calculates normal gain correctly", () => {
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-43-    // Entry at 0.001 SOL, current at 0.0015 SOL = 50% gain
apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts:44:    const result = calculatePnL(0.001, 0.0015, 1.0);
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-45-
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-46-    expect(result).not.toBeNull();
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-47-    expect(result?.pnlPercent).toBeCloseTo(50, 2);
apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts:48:    expect(result?.pnlSol).toBeCloseTo(0.5, 2);
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-49-  });
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-50-
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-51-  it("returns null when current price is NaN", () => {
apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts:52:    const result = calculatePnL(0.001, NaN, 1.0);
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-53-
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-54-    expect(result).toBeNull();
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-55-  });
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-56-
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-57-  it("returns null when entry price is zero", () => {
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-58-    // Avoid division by zero
apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts:59:    const result = calculatePnL(0, 0.001, 1.0);
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-60-
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-61-    expect(result).toBeNull();
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-62-  });
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-63-
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-64-  it("calculates loss correctly", () => {
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-65-    // Entry at 0.002 SOL, current at 0.001 SOL = -50% loss
apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts:66:    const result = calculatePnL(0.002, 0.001, 1.0);
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-67-
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-68-    expect(result).not.toBeNull();
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-69-    expect(result?.pnlPercent).toBeCloseTo(-50, 2);
apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts:70:    expect(result?.pnlSol).toBeCloseTo(-0.5, 2);
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-71-  });
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-72-
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-73-  it("returns null when entry price is NaN", () => {
apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts:74:    const result = calculatePnL(NaN, 0.001, 1.0);
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-75-
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-76-    expect(result).toBeNull();
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-77-  });
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/pnl.test.ts-78-});
--
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotData.ts-24-  // Positions with live P&L from NATS market data
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotData.ts-25-  const positions = useAutopilotPositions();
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotData.ts-26-
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotData.ts-27-  // Calculate total P&L from positions (derived, real-time)
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotData.ts-28-  const derivedTotalPnlSol = useMemo(() => {
apps/web-terminal/src/hooks/useAutopilot/useAutopilotData.ts:29:    return positions.reduce((sum, pos) => sum + (pos.pnlSol ?? 0), 0);
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotData.ts-30-  }, [positions]);
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotData.ts-31-
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotData.ts-32-  // Get SOL price from store for market status calculation (stored as string)
/Users/neilhart/Documents/BONKbot/github/web-terminal-frontend/feat-token-analysis-autopilot/apps/web-terminal/src/hooks/useAutopilot/useAutopilotData.ts-33-  const solPriceUsdStr = useGlobalStore(state => state.solanaPrice.usd);
apps/web-terminal/src/hooks/useAutopilot/useAutopilotData.ts-34-  const solPriceUsd = solPriceUsdStr ? parseFloat(solPriceUsdStr) : null;